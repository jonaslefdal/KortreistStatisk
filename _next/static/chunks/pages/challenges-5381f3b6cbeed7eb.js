(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{4842:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(7876);function a(e){let{message:t,onConfirm:s,onCancel:a,confirmColor:n="green"}=e;return(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-80 text-center",children:[(0,r.jsx)("p",{className:"text-lg font-semibold text-black",children:t}),(0,r.jsxs)("div",{className:"mt-4 flex justify-center gap-4",children:[(0,r.jsx)("button",{onClick:s,className:"red"===n?"px-4 py-2 bg-customRed text-white rounded-full hover:bg-red-600 transition":"px-4 py-2 bg-customGreen text-white rounded-full hover:bg-green-600 transition",children:"Bekreft"}),(0,r.jsx)("button",{onClick:a,className:"px-4 py-2 bg-gray-300 text-black rounded-full hover:bg-gray-400 transition",children:"Avbryt"})]})]})})}s(4232)},6309:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(7876),a=s(4232),n=s(9099),i=s(6955),l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,t)};function o(e){var t,s,r,n,i,l,o,c,d=e.className,u=e.counterClockwise,m=e.dashRatio,h=e.pathRadius,p=e.strokeWidth,x=e.style;return(0,a.createElement)("path",{className:d,style:Object.assign({},x,(s=(t={pathRadius:h,dashRatio:m,counterClockwise:u}).counterClockwise,r=t.dashRatio,i=(1-r)*(n=2*Math.PI*t.pathRadius),{strokeDasharray:n+"px "+n+"px",strokeDashoffset:(s?-i:i)+"px"})),d:(o=(l={pathRadius:h,counterClockwise:u}).pathRadius,"\n      M 50,50\n      m 0,-"+o+"\n      a "+o+","+o+" "+(c=+!!l.counterClockwise)+" 1 1 0,"+2*o+"\n      a "+o+","+o+" "+c+" 1 1 0,-"+2*o+"\n    "),strokeWidth:p,fillOpacity:0})}var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return!function(e,t){function s(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,s=e.minValue,r=e.maxValue;return(Math.min(Math.max(t,s),r)-s)/(r-s)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,s=e.className,r=e.classes,n=e.counterClockwise,i=e.styles,l=e.strokeWidth,c=e.text,d=this.getPathRadius(),u=this.getPathRatio();return(0,a.createElement)("svg",{className:r.root+" "+s,style:i.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,a.createElement)("circle",{className:r.background,style:i.background,cx:50,cy:50,r:50}):null,(0,a.createElement)(o,{className:r.trail,counterClockwise:n,dashRatio:t,pathRadius:d,strokeWidth:l,style:i.trail}),(0,a.createElement)(o,{className:r.path,counterClockwise:n,dashRatio:u*t,pathRadius:d,strokeWidth:l,style:i.path}),c?(0,a.createElement)("text",{className:r.text,style:i.text,x:50,y:50},c):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(a.Component);function d(e){return Object.keys(e).forEach(function(t){null==e[t]&&delete e[t]}),e}s(7116);let u=e=>{let{title:t,type:s,current:a,total:n,challengeType:i,challengePoints:l,isCustom:o,isCompleted:u,onComplete:m,isLoading:h}=e,p=Math.min(a/n*100,100),x="Distance"===i?"".concat(a.toFixed(1)," km\n/ ").concat(n," km"):"".concat(a,"/").concat(n);return(0,r.jsxs)("div",{className:"relative flex bg-customYellow2 w-full rounded-xl border-2 p-4 gap-4 ".concat("Custom"===i?"border-orange-500":"Distance"===i?"border-green-500":"border-blue-500"),children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold text-lg mb-1",children:t}),(0,r.jsx)("div",{className:"text-sm",children:(0,r.jsx)("strong",{children:x})}),(0,r.jsx)("div",{className:"text-sm",children:u?"Fullf\xf8rt":"P\xe5g\xe5r"})]}),o&&!u&&m&&(0,r.jsx)("button",{onClick:m,disabled:h,className:"mt-2 w-fit px-3 py-1 text-xs bg-orange-500 text-white rounded transition-opacity hover:opacity-80 active:opacity-60 disabled:opacity-50",children:h?"Registrerer...":"Fullf\xf8r aktivitet"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsxs)("div",{className:"relative w-20 h-20",children:[(0,r.jsx)(c,{value:p,styles:function(e){var t=e.rotation,s=e.strokeLinecap,r=e.textColor,a=e.textSize,n=e.pathColor,i=e.pathTransition,l=e.pathTransitionDuration,o=e.trailColor,c=e.backgroundColor,u=null==t?void 0:"rotate("+t+"turn)",m=null==t?void 0:"center center";return{root:{},path:d({stroke:n,strokeLinecap:s,transform:u,transformOrigin:m,transition:i,transitionDuration:null==l?void 0:l+"s"}),trail:d({stroke:o,strokeLinecap:s,transform:u,transformOrigin:m}),text:d({fill:r,fontSize:a}),background:d({fill:c})}}({strokeLinecap:"round",textSize:"14px",pathColor:"#311687",textColor:"#000000",trailColor:"#d1d5db"})}),(0,r.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-gray-800 leading-tight",children:"Distance"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-base",children:"".concat(a.toFixed(1),"km")}),(0,r.jsx)("span",{className:"text-sm",children:"/ ".concat(n,"km")})]}):(0,r.jsx)("span",{className:"text-base",children:"".concat(a,"/").concat(n)})})]}),(0,r.jsxs)("div",{className:"mt-2 text-white text-xs font-bold px-2 py-1 rounded ".concat(u?"bg-customViolet":"bg-gray-300"),children:[l," poeng"]})]})]})};var m=s(4842),h=s(7685);let p=()=>{let e=(0,n.useRouter)(),[t,s]=(0,a.useState)([{challengeId:1,description:"Sykle totalt minst 15 km denne uken",requiredDistanceKm:15,method:"cycling",type:"Distance",points:40,userProgress:9.3},{challengeId:2,description:"Ta bussen minst 3 ganger denne uken",requiredCount:3,method:"bus",type:"Standard",points:30,userProgress:2},{challengeId:3,description:"G\xe5 en tur med en kollega",requiredCount:1,method:"custom",type:"Custom",points:50,userProgress:0}]),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[p,x]=(0,a.useState)(null),g=async e=>{o(e),await new Promise(e=>setTimeout(e,100)),s(t=>t.map(t=>t.challengeId===e?{...t,userProgress:1}:t)),h.Ay.success("Egendefinert utfordring fullf\xf8rt! \uD83C\uDF89"),o(null),x(null)};return(0,r.jsxs)("div",{className:"flex flex-col items-center p-4 gap-4",children:[(0,r.jsx)("header",{className:"self-start",children:(0,r.jsx)(i.A,{onClick:()=>e.back()})}),(0,r.jsx)("div",{className:"flex justify-center w-full font-bold text-3xl text-violet-950 pb-6",children:"Ukens utfordringer"}),t.map(e=>(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(u,{title:e.description,type:e.method,current:Math.min(e.userProgress,"Distance"===e.type?e.requiredDistanceKm:e.requiredCount),total:"Distance"===e.type?e.requiredDistanceKm:e.requiredCount,challengeType:e.type,challengePoints:e.points,isCustom:"custom"===e.method,isCompleted:"Distance"===e.type?e.userProgress>=e.requiredDistanceKm:e.userProgress>=e.requiredCount,isLoading:l===e.challengeId,onComplete:()=>x(e.challengeId)})},e.challengeId)),(0,r.jsxs)("button",{className:"w-32 h-10 bg-customViolet text-white font-semibold rounded shadow-lg transition-colors flex items-center justify-center",onClick:()=>d(e=>!e),children:[(0,r.jsx)("span",{children:"Se detaljer"}),(0,r.jsx)("span",{className:"ml-2",children:c?"▲":"▼"})]}),c&&(0,r.jsxs)("div",{className:"bg-customYellow2 opacity-90 text-customViolet text-base md:text-lg p-3 rounded-lg border border-customViolet w-full text-left",children:[(0,r.jsx)("p",{className:"mb-1 font-semibold",children:"Hva betyr fargene?"}),(0,r.jsxs)("ul",{className:"text-sm list-disc list-outside pl-6 space-y-1",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-orange-500 font-medium",children:"Oransje ramme"}),": Spesialutfordring - m\xe5 fullf\xf8res manuelt."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"Bl\xe5 ramme"}),": Standardutfordring - spores automatisk."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"text-green-500 font-medium",children:"Gr\xf8nn ramme"}),": Avstandsutfordring - spores automatisk basert p\xe5 kilometer."]})]})]}),null!==p&&(0,r.jsx)(m.A,{message:"Er du sikker p\xe5 at du vil fullf\xf8re denne aktiviteten?",onConfirm:()=>g(p),onCancel:()=>x(null),confirmColor:"green"})]})}},6620:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/challenges",function(){return s(6309)}])},6955:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(7876);let a=(0,s(1713).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),n=e=>{let{icon:t=(0,r.jsx)(a,{size:24}),onClick:s}=e;return(0,r.jsx)("button",{onClick:s,className:"flex items-center",children:t})}},7116:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(6620)),_N_E=e.O()}]);