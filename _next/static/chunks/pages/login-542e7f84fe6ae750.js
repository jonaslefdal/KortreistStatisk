(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{6069:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var l=s(7876),r=s(4232),n=s(5051),i=s(4723);let o=e=>{let{onClick:t,icon:s,title:r,description:n,className:i}=e;return(0,l.jsxs)("button",{onClick:t,className:"flex flex-col items-center justify-center border-2 border-violet-900 text-violet-900 px-3 py-2 rounded-md transition ".concat(i),children:[s&&(0,l.jsx)("div",{className:"mb-2",children:s}),(0,l.jsx)("span",{className:"text-lg font-semibold",children:r}),n&&(0,l.jsx)("p",{className:"text-sm opacity-80",children:n})]})};var c=s(4587),a=s.n(c),d=s(9099),x=s(300);let m=()=>{let{userData:e,loading:t}=(0,x.r)(),{instance:s,accounts:c,inProgress:m}=(0,n.dk)(),[u,h]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[p,j]=(0,r.useState)(null),b=(0,d.useRouter)();(0,r.useEffect)(()=>{(async()=>{if((null==e?void 0:e.accessToken)&&"none"===m&&!f){g(!0);try{b.push("/")}catch(e){console.error("Upsert error:",e),j("Her skjedde det noe galt, pr\xf8v \xe5 laste inn p\xe5 nytt")}finally{g(!1)}}})()},[null==e?void 0:e.accessToken,m]);let y=async()=>{h(!0);try{await s.loginRedirect(i.$8)}catch(e){console.error("Login error:",e)}finally{h(!1)}},N=async()=>{h(!0);try{await s.loginRedirect(i.yZ)}catch(e){console.error("Signup error:",e),j("Kunne ikke opprette konto akkurat n\xe5.")}finally{h(!1)}};return p?(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsx)("p",{className:"text-customRed text-lg",children:p})}):t||u||f?(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-customViolet"}),(0,l.jsx)("p",{className:"text-customViolet text-lg",children:"Logger inn..."})]})}):(0,l.jsx)("div",{className:"flex-1 flex flex-col items-center justify-start z-10 pt-20",children:(0,l.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center z-10",children:[(0,l.jsx)(a(),{src:"".concat("/KortreistStatisk","/images/Logo.png"),alt:"Logo",width:120,height:120,className:"mb-4"}),(0,l.jsx)("h1",{className:"text-4xl font-semibold text-customViolet",children:"Kortreist"}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 mt-12 items-center",children:[(0,l.jsx)(o,{onClick:y,title:"Logg Inn",className:"border-customViolet text-customViolet bg-white w-60",disabled:u||"none"!==m||f}),(0,l.jsx)(o,{onClick:N,title:"Opprett Konto",className:"border-customViolet text-white bg-customViolet w-60"}),(0,l.jsx)("button",{onClick:()=>b.push("/altLogin"),title:"Hopp over innlogging",className:"w-40 py-1 rounded-md border-2 border-gray-400 text-gray-700 bg-white hover:bg-gray-100 transition text-l font-semibold mt-12",children:"Skip Logg Inn"})]})]})})}},7984:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(6069)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(7984)),_N_E=e.O()}]);