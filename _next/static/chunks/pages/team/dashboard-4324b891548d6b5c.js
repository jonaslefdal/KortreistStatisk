(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{724:(e,t,a)=>{"use strict";a.d(t,{y:()=>r});var l=a(1367),s=a.n(l);function r(e,t){var a,l,r;let n=null!==(a=null==t?void 0:t.minLength)&&void 0!==a?a:3,c=null!==(l=null==t?void 0:t.maxLength)&&void 0!==l?l:15,i=null!==(r=null==t?void 0:t.label)&&void 0!==r?r:"Kallenavn";return e.length<n?"".concat(i," m\xe5 v\xe6re minst ").concat(n," tegn."):e.length>c?"".concat(i," kan ikke v\xe6re lengre enn ").concat(c," tegn."):/^[A-Za-zÆØÅæøå0-9_ ]+$/.test(e)?s().check(e)||s().list().some(t=>e.toLowerCase().includes(t))?"Dette kallenavnet inneholder upassende spr\xe5k.":null:"Kallenavn kan kun inneholde bokstaver, tall, mellomrom og understrek."}},4842:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(7876);function s(e){let{message:t,onConfirm:a,onCancel:s,confirmColor:r="green"}=e;return(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-80 text-center",children:[(0,l.jsx)("p",{className:"text-lg font-semibold text-black",children:t}),(0,l.jsxs)("div",{className:"mt-4 flex justify-center gap-4",children:[(0,l.jsx)("button",{onClick:a,className:"red"===r?"px-4 py-2 bg-customRed text-white rounded-full hover:bg-red-600 transition":"px-4 py-2 bg-customGreen text-white rounded-full hover:bg-green-600 transition",children:"Bekreft"}),(0,l.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-300 text-black rounded-full hover:bg-gray-400 transition",children:"Avbryt"})]})]})})}a(4232)},6401:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(7876),s=a(4232);let r=(0,a(1713).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var n=a(7685),c=a(724);function i(e){let{teamName:t,totalScore:a,teamProfilePicture:i,accessToken:o,teamId:m}=e,[d,x]=(0,s.useState)(!1),[u,g]=(0,s.useState)(t),[p,f]=(0,s.useState)(t),[h,b]=(0,s.useState)(null),v=(0,s.useRef)(null),N=(0,s.useRef)(!1),[k,j]=(0,s.useState)(!1),[w,y]=(0,s.useState)(i||"teamAvatar1.png");(0,s.useEffect)(()=>{g(t),f(t)},[t]);let A=async(e,t)=>{n.Ay.success("Lagprofil oppdatert!"),f(e),x(!1)},S=e=>{y(e),j(!1),h||u.trim()!==p?h||""===u.trim()?n.Ay.error("Kan ikke oppdatere lagbilde med ugyldig lagnavn."):A(u.trim(),e):A(p,e)};(0,s.useRef)();let C=e=>{g(e),b((0,c.y)(e,{maxLength:12,label:"Lagnavn"}))};return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,l.jsx)("img",{src:"".concat("/KortreistStatisk","/images/team-pictures/").concat(w),alt:t,onClick:()=>j(!0),className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover border-4 border-customViolet shadow-md mb-4 cursor-pointer hover:opacity-80 transition"}),(0,l.jsx)("p",{className:"text-sm text-gray-500 -mt-2",children:"Trykk for \xe5 endre lagbilde"}),d?(0,l.jsxs)("div",{className:"flex flex-col items-center mt-2 w-full",children:[(0,l.jsxs)("div",{className:"w-[90%] mx-auto",children:[(0,l.jsx)("input",{type:"text",value:u,onChange:e=>C(e.target.value),onBlur:e=>{if(N.current){N.current=!1;return}e.relatedTarget!==v.current&&(u.trim()===p||h?x(!1):A(u.trim(),w))},className:"w-full text-2xl sm:text-3xl font-bold text-customViolet text-center border-b border-customViolet bg-transparent focus:outline-none",autoFocus:!0}),h&&(0,l.jsx)("p",{className:"mt-2 text-md text-customRed text-center",children:h})]}),!h&&(0,l.jsxs)("div",{className:"mt-2 flex gap-3",children:[(0,l.jsx)("button",{ref:v,onClick:()=>A(u,w),disabled:u===p,className:"text-sm px-4 py-1 rounded-full font-medium transition ".concat(u===p?"bg-gray-500 text-white cursor-not-allowed":"bg-customGreen text-white"),children:"Lagre"}),(0,l.jsx)("button",{onMouseDown:()=>{N.current=!0},onClick:()=>{g(p),b(null),x(!1)},className:"text-sm px-4 py-1 rounded-full font-medium transition bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Avbryt"})]})]}):(0,l.jsxs)("div",{className:"mt-2 flex items-center justify-center cursor-pointer",onClick:()=>x(!0),children:[(0,l.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-customViolet text-center",children:u}),(0,l.jsx)(r,{size:18,className:"text-black ml-2"})]}),(0,l.jsx)("p",{className:"text-base sm:text-lg text-black mt-2 text-center",children:"Gratulerer, laget ditt har opptjent"}),(0,l.jsxs)("p",{className:"text-3xl sm:text-4xl font-extrabold text-customViolet mt-1 text-center",children:[a.toLocaleString("no-NO")," poeng"]}),k&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center px-2 py-4 justify-center",onClick:e=>{e.target===e.currentTarget&&j(!1)},children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md max-h-[70vh] w-full shadow-lg overflow-y-auto",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4 text-center",children:"Velg et lagbilde"}),(0,l.jsx)("div",{className:"grid grid-cols-4 gap-4",children:["teamAvatar1.png","teamAvatar2.png","teamAvatar3.png","teamAvatar4.png","teamAvatar5.png","teamAvatar6.png","teamAvatar7.png","teamAvatar8.png","teamAvatar9.png","teamAvatar10.png","teamAvatar11.png","teamAvatar12.png","teamAvatar13.png","teamAvatar14.png","teamAvatar15.png","teamAvatar16.png","teamAvatar17.png","teamAvatar18.png","teamAvatar19.png","teamAvatar20.png"].map(e=>(0,l.jsx)("img",{src:"".concat("/KortreistStatisk","/images/team-pictures/").concat(e),alt:e,onClick:()=>S(e),className:"w-16 h-16 rounded-full cursor-pointer transition border-4 ".concat(w===e?"border-customViolet scale-110":"border-transparent hover:border-gray-400 hover:scale-105")},e))}),(0,l.jsx)("button",{onClick:()=>j(!1),className:"mt-4 w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 rounded",children:"Lukk"})]})})]})}var o=a(300),m=a(9099),d=a.n(m),x=a(4842);function u(){let[e,t]=(0,s.useState)("lagstatistikk"),[a,r]=(0,s.useState)(!1),{userData:n,loading:c}=(0,o.r)(),m={teamId:1,name:"Milj\xf8Heltene",teamTotalScore:9820,teamProfilePicture:"teamAvatar4.png",members:[{userId:1,nickName:"Emma",profilePicture:"Avatar1.png",totalScore:4321},{userId:2,nickName:"Jonas",profilePicture:"Avatar2.png",totalScore:3120},{userId:3,nickName:"Lars",profilePicture:"Avatar3.png",totalScore:2200},{userId:4,nickName:"Kari",profilePicture:"Avatar4.png",totalScore:1700}]};if(!m)return null;let u=m.members.map(e=>({id:e.userId,NickName:e.nickName,points:e.totalScore,profilePicture:e.profilePicture}))||[],g=[...u].sort((e,t)=>t.points-e.points).slice(0,3),p=async()=>{r(!1);try{d().replace("/team/onboarding")}catch(e){console.error(e)}};return(0,l.jsxs)("div",{className:"flex flex-col items-center px-4",children:[(0,l.jsxs)("div",{className:"w-full max-w-xs sm:max-w-md relative",children:[(0,l.jsx)("div",{className:"fixed top-0 left-0 w-full bg-customYellow2 z-30 h-18 overflow-hidden",children:(0,l.jsx)("div",{className:"w-full max-w-xs sm:max-w-md mx-auto pt-safe",children:(0,l.jsxs)("div",{className:"flex items-center border-4 border-customViolet rounded-full mt-4 p-1",children:[(0,l.jsx)("button",{className:"w-[50%] px-4 py-3 text-center text-lg font-semibold rounded-full transition-all ".concat("lagstatistikk"===e?"bg-customViolet text-white":"text-black"),onClick:()=>t("lagstatistikk"),children:"Lagstatistikk"}),(0,l.jsx)("button",{className:"w-[50%] px-4 py-3 text-center text-lg font-semibold rounded-full transition-all ".concat("medlemmer"===e?"bg-customViolet text-white":"text-black"),onClick:()=>t("medlemmer"),children:"Medlemmer"})]})})}),"lagstatistikk"===e?(0,l.jsxs)("main",{className:"mt-20 flex flex-col gap-6",children:[(0,l.jsx)("div",{className:"p-4 bg-customYellow2 text-center",children:(0,l.jsx)(i,{teamName:m.name,totalScore:m.teamTotalScore,teamProfilePicture:m.teamProfilePicture,accessToken:null==n?void 0:n.accessToken,teamId:m.teamId})}),(0,l.jsx)("p",{className:"text-2xl font-semibold text-customViolet text-center mt-4",children:"Lagets b\xe6rekraftshelter"}),(0,l.jsx)("div",{className:"mt-0 flex gap-4 overflow-x-auto px-4",children:g.map(e=>(0,l.jsxs)("div",{className:"flex flex-col bg-customYellow2 items-center border-2 border-violet-900 rounded-2xl p-4 w-32 flex-shrink-0 h-44",children:[(0,l.jsx)("img",{src:"".concat("/KortreistStatisk","/images/avatars/").concat(e.profilePicture||"Avatar1.png"),alt:e.NickName,className:"w-14 h-14 rounded-full object-cover border-2 border-customViolet"}),(0,l.jsx)("div",{className:"h-12 flex items-center justify-center",children:(0,l.jsx)("p",{className:"text-md max-w-24 line-clamp-2 break-all font-semibold text-black text-center leading-tight",children:e.NickName})}),(0,l.jsxs)("div",{className:"mt-auto flex flex-col items-center",children:[(0,l.jsx)("p",{className:"text-sm text-gray-700",children:"Poeng"}),(0,l.jsx)("p",{className:"text-lg font-bold text-customViolet",children:e.points.toLocaleString("no-NO")})]})]},e.id))})]}):(0,l.jsxs)("main",{className:"mt-28 w-full",children:[(0,l.jsxs)("div",{className:"relative z-10 flex justify-between items-center bg-customYellow2 px-4 py-3 border-2 border-violet-900 rounded-2xl shadow-md",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-customViolet line-clamp-1 break-words max-w-[10rem] sm:max-w-[16rem]",children:m.name}),(0,l.jsxs)("p",{className:"mt-1 text-sm sm:text-base text-black",children:["Dere er ",u.length," medlemmer"]})]}),(0,l.jsx)("button",{onClick:()=>r(!0),className:"bg-customRed text-white px-4 py-2 rounded-full hover:bg-red-200 transition",children:"Forlat Lag"})]}),(0,l.jsx)("div",{className:"relative mt-4 pt-4 z-10 pb-8",children:(0,l.jsx)("div",{className:"flex flex-col gap-4",children:u.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-customYellow2 border-2 border-violet-900 rounded-2xl",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("img",{src:"".concat("/KortreistStatisk","/images/avatars/").concat(e.profilePicture||"Avatar1.png"),alt:e.NickName,className:"w-12 h-12 rounded-full object-cover border-2 border-customViolet"}),(0,l.jsx)("p",{className:"line-clamp-2 break-all leading-tight text-base font-medium text-customViolet max-w-[9rem] sm:max-w-[15rem]",children:e.NickName})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Poeng"}),(0,l.jsx)("p",{className:"text-lg font-bold text-customViolet",children:e.points.toLocaleString("no-NO")})]})]},e.id))})})]})]}),a&&(0,l.jsx)(x.A,{message:"Er du sikker p\xe5 at du vil forlate laget?",onConfirm:p,onCancel:()=>r(!1),confirmColor:"red"})]})}},8540:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/team/dashboard",function(){return a(6401)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(8540)),_N_E=e.O()}]);